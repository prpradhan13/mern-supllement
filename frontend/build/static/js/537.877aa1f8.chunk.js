"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[537],{8696:(e,t,a)=>{a.d(t,{Z:()=>r});a(5563);var s=a(1087),n=a(184);const r=()=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"admin_page_left",children:[(0,n.jsx)("h1",{children:" Admin Pannel "}),(0,n.jsxs)("div",{className:"admin_page_left_btn",children:[(0,n.jsx)(s.rU,{to:"/profile/admin/create-category",children:(0,n.jsx)("button",{className:"btns",children:"Create Category"})}),(0,n.jsx)(s.rU,{to:"/profile/admin/create-product",children:(0,n.jsx)("button",{className:"btns",children:"Create Products"})}),(0,n.jsx)(s.rU,{to:"/profile/admin/products",children:(0,n.jsx)("button",{className:"btns",children:"All Products"})}),(0,n.jsx)(s.rU,{to:"/profile/admin/admin-order",children:(0,n.jsx)("button",{className:"btns",children:"Orders"})})]})]})})},1537:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});a(4015);var s=a(2791),n=a(8696),r=a(3402),c=a(5294),l=a(1909),d=a(184);const i=e=>{let{handleSubmit:t,value:a,setValue:s}=e;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("form",{onSubmit:t,children:[(0,d.jsx)("div",{className:"form_box",children:(0,d.jsx)("input",{type:"text",className:"form-input",placeholder:"Add new Category",value:a,onChange:e=>s(e.target.value)})}),(0,d.jsx)("button",{type:"submit",className:"form-btn",children:"Add"})]})})};var o=a(2492);const u=()=>{const[e,t]=(0,s.useState)([]),[a,u]=(0,s.useState)(""),[h,m]=(0,s.useState)(!1),[g,x]=(0,s.useState)(null),[j,p]=(0,s.useState)(""),y=async()=>{try{const{data:e}=await c.Z.get("/api/v1/category/allcategory");null!==e&&void 0!==e&&e.success&&t(null===e||void 0===e?void 0:e.category)}catch(e){r.ZP.error("Something went wrong getting category")}};(0,s.useEffect)((()=>{y()}),[]);return(0,d.jsxs)("div",{className:"admin_page",children:[(0,d.jsx)("div",{className:"admin_menu",children:(0,d.jsx)(n.Z,{})}),(0,d.jsxs)("div",{className:"admin_right",children:[(0,d.jsxs)("div",{className:"admin_right_form",children:[(0,d.jsx)("h2",{children:" Create a new category "}),(0,d.jsx)(i,{handleSubmit:async e=>{e.preventDefault();try{const{data:e}=await c.Z.post("/api/v1/category/create-category",{name:a});null!==e&&void 0!==e&&e.success?(r.ZP.success("".concat(a," is created")),y()):r.ZP.error(e.message)}catch(t){r.ZP.error("Something went wrong in Input form")}},value:a,setValue:u})]}),(0,d.jsx)("h2",{children:" all category "}),(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Name"}),(0,d.jsx)("th",{children:"Edit"}),(0,d.jsx)("th",{children:"Remove"})]})}),(0,d.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map((e=>(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"name",children:e.name},e._id),(0,d.jsx)("td",{className:"edit",children:(0,d.jsx)("button",{onClick:()=>{m(!0),p(e.name),x(e)},children:"edit"})}),(0,d.jsx)("td",{className:"remove",children:(0,d.jsx)("button",{onClick:()=>{(async e=>{try{const{data:t}=await c.Z.delete("/api/v1/category/deletecategory/".concat(e));t.success?(r.ZP.success("Category Successfully Deleted"),y()):r.ZP.error(t.message)}catch(t){r.ZP.error("Something went wrong updating category")}})(e._id)},children:(0,d.jsx)(l.ZkW,{})})})]})})))})]}),(0,d.jsx)(o.Z,{onCancel:()=>m(!1),footer:null,open:h,children:(0,d.jsx)(i,{value:j,setValue:p,handleSubmit:async e=>{e.preventDefault();try{const{data:e}=await c.Z.put("/api/v1/category/update-category/".concat(g._id),{name:j});e.success?(r.ZP.success("".concat(j," successfully updated")),x(null),p(""),m(!1),y()):r.ZP.error(e.message)}catch(t){r.ZP.error("Something went wrong updating category")}}})})]})]})}},4015:()=>{},5563:()=>{}}]);
//# sourceMappingURL=537.877aa1f8.chunk.js.map