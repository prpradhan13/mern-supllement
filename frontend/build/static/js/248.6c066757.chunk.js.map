{"version":3,"file":"static/js/248.6c066757.chunk.js","mappings":"qJAIA,MA+BA,EA/BgBA,IAAsB,IAArB,KAACC,EAAM,SAAQD,EAC9B,MAAOE,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,GAC7BC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAYjB,OAVAC,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAWC,aAAY,KAC3BR,GAAUS,KAAeA,GAAS,GACjC,KAKH,OAJU,IAAVV,GACEG,EAAS,GAADQ,OAAIZ,GAAQ,CAClBa,MAAOP,EAASQ,WAEb,IAAMC,cAAcN,EAAS,GACnC,CAACR,EAAOG,EAAUE,EAAUN,KAE7BgB,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWF,SAAA,EACxBC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYF,SAAA,EACzBF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,QAAOF,UACpBF,EAAAA,EAAAA,KAAA,WAEFA,EAAAA,EAAAA,KAAA,OAAKI,UAAU,WACfJ,EAAAA,EAAAA,KAAA,OAAKI,UAAU,iBAEjBJ,EAAAA,EAAAA,KAAA,OAAKI,UAAU,YAAWF,SAAC,uBAE5B,C,8GCzBQ,SAASG,IACpB,MAAOC,EAAIC,IAASpB,EAAAA,EAAAA,WAAS,IACtBqB,EAAMC,IAAWC,EAAAA,EAAAA,KAcxB,OAZAlB,EAAAA,EAAAA,YAAU,KASC,OAAJgB,QAAI,IAAJA,GAAAA,EAAMG,OARSC,kBACIC,EAAAA,EAAMC,IAAI,4BACrBC,KAAKT,GACRC,GAAM,GAENA,GAAM,EACV,EAEYS,EAAW,GAC7B,CAAK,OAAJR,QAAI,IAAJA,OAAI,EAAJA,EAAMG,QAEFL,GAAKN,EAAAA,EAAAA,KAACiB,EAAAA,GAAM,KAAKjB,EAAAA,EAAAA,KAACkB,EAAAA,EAAO,CAAClC,KAAK,IAC1C,C","sources":["components/Loading.js","components/routes/AdminRoute.js"],"sourcesContent":["import \"../styles/Loading.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\n\r\nconst Loading = ({path =\"login\"}) => {\r\n  const [count, setCount] = useState(3);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCount((preValue) => --preValue);\r\n    }, 1000);\r\n    count === 0 &&\r\n      navigate(`${path}`, {\r\n        state: location.pathname,\r\n      });\r\n    return () => clearInterval(interval);\r\n  }, [count, navigate, location, path]);\r\n  return (\r\n    <>\r\n      <div className=\"load_page\">\r\n        <div className=\"typewriter\">\r\n          <div className=\"slide\">\r\n            <i></i>\r\n          </div>\r\n          <div className=\"paper\"></div>\r\n          <div className=\"keyboard\"></div>\r\n        </div>\r\n        <div className=\"load_text\">Please wait...</div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"../../context/auth\";\r\nimport { Outlet } from 'react-router-dom';\r\nimport axios from \"axios\";\r\nimport Loading from \"../Loading\";\r\n\r\nexport default function AdminRoute(){\r\n    const [ok, setOk] = useState(false)\r\n    const [auth, setAuth] = useAuth()\r\n\r\n    useEffect(() => {\r\n        const authCheck = async () => {\r\n            const res = await axios.get(`/api/v1/auth/admin-auth`)\r\n            if(res.data.ok){\r\n                setOk(true)\r\n            }else{\r\n                setOk(false)\r\n            }\r\n        }\r\n        if(auth?.token) authCheck()\r\n    },[auth?.token])\r\n\r\n    return ok ? <Outlet/> : <Loading path=\"\" />\r\n}"],"names":["_ref","path","count","setCount","useState","navigate","useNavigate","location","useLocation","useEffect","interval","setInterval","preValue","concat","state","pathname","clearInterval","_jsx","_Fragment","children","_jsxs","className","AdminRoute","ok","setOk","auth","setAuth","useAuth","token","async","axios","get","data","authCheck","Outlet","Loading"],"sourceRoot":""}